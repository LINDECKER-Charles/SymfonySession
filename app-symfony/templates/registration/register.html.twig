{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}

{% block content %}
<div class="flex justify-center mt-20">
  <div class="bg-white border border-gray-300 shadow-md p-8 rounded w-full max-w-sm">
    <h1 class="text-xl font-semibold text-center mb-6">Cr√©er un compte</h1>

    {{ form_start(registrationForm, {'attr': {'class': 'space-y-4', 'id': 'register_form'}}) }}

      {{ form_row(registrationForm.email, {
        label: 'Email',
        attr: { class: 'w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3B4C66]' },
        label_attr: { class: 'block mb-1 text-sm font-medium text-gray-700' }
      }) }}

      {{ form_row(registrationForm.name, {
        label: 'Nom complet',
        attr: { class: 'w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3B4C66]' },
        label_attr: { class: 'block mb-1 text-sm font-medium text-gray-700' }
      }) }}

      {{ form_row(registrationForm.sex, {
        label: 'Sexe',
        attr: { class: 'w-full px-4 py-2 border border-gray-300 rounded text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#3B4C66]' },
        label_attr: { class: 'block mb-1 text-sm font-medium text-gray-700' }
      }) }}

      {{ form_row(registrationForm.city, {
        label: 'Ville',
        attr: { class: 'w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3B4C66]' },
        label_attr: { class: 'block mb-1 text-sm font-medium text-gray-700' }
      }) }}

      {{ form_row(registrationForm.cp, {
        label: 'Code postal',
        attr: { class: 'w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3B4C66]' },
        label_attr: { class: 'block mb-1 text-sm font-medium text-gray-700' }
      }) }}

      {{ form_row(registrationForm.adress, {
        label: 'Adresse',
        attr: { class: 'w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3B4C66]' },
        label_attr: { class: 'block mb-1 text-sm font-medium text-gray-700' }
      }) }}

      {{ form_row(registrationForm.birth, {
        label: 'Date de naissance',
        attr: { class: 'w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3B4C66]' },
        label_attr: { class: 'block mb-1 text-sm font-medium text-gray-700' }
      }) }}
    <div style="position:absolute; left:-9999px;" aria-hidden="true">
      {{ form_row(registrationForm.honeytrap, {
        label: false,
        attr: {
          autocomplete: 'off',
          tabindex: '-1'
        }
      }) }}
    </div>

    <div style="position: relative;">
      {{ form_label(registrationForm.plainPassword, 'Mot de passe', {
        'label_attr': { 'class': 'block mb-1 text-sm font-medium text-gray-700' }
      }) }}
      {{ form_widget(registrationForm.plainPassword, {
        'attr': {
          'id': 'password',
          'class': 'w-full px-4 py-2 pr-10 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3B4C66]'
        }
      }) }}
      <i id="togglePassword" class="fas fa-eye"
        style="position:absolute; top: 70%; right: 0.75rem; transform: translateY(-50%); cursor: pointer;"
        onclick="togglePassword()">
      </i>
    </div>


    <script>
      function togglePassword() {
        const input = document.getElementById("registration_form_plainPassword");
        const icon = document.getElementById("togglePassword");
        input.type = input.type === "password" ? "text" : "password";
        icon.classList.toggle("fa-eye");
        icon.classList.toggle("fa-eye-slash");
      }
    </script>

    <div style="position: relative;">
      {{ form_row(registrationForm.confirmPassword, {
        label: 'Confirmer mot de passe',
        attr: { class: 'w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#3B4C66]' },
        label_attr: { class: 'block mb-1 text-sm font-medium text-gray-700' }
      }) }}
      <i id="togglePassword2" class="fas fa-eye"
        style="position:absolute; top: 70%; right: 0.75rem; transform: translateY(-50%); cursor: pointer;"
        onclick="togglePassword2()">
      </i>
    </div>
    <script>
      function togglePassword2() {
        const input = document.getElementById("registration_form_confirmPassword");
        const icon = document.getElementById("togglePassword2");
        input.type = input.type === "password" ? "text" : "password";
        icon.classList.toggle("fa-eye");
        icon.classList.toggle("fa-eye-slash");
      }
    </script>

    

      <div class="flex items-center space-x-2">
        {{ form_widget(registrationForm.agreeTerms) }}
        {{ form_label(registrationForm.agreeTerms, null, {
          'label_attr': {'class': 'text-sm text-gray-700'}
        }) }}
      </div>
      {{ form_errors(registrationForm.agreeTerms) }}

      <button type="submit"
              class="w-full bg-[#3B4C66] text-white font-semibold py-2 rounded hover:bg-[#4F627E] transition">
        S'inscrire
      </button>

    {{ form_end(registrationForm) }}
  </div>
</div>
{% endblock %}
